<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cps</title>
    <style>
        @import url('https://fonts.cdnfonts.com/css/noah-grotesque');
        
        body {
            background: #151515;
            color: white;
            font-family: 'Noah Grotesque', sans-serif;
            overflow-y: hidden;
        }

        .sect {
            position: absolute;
            left: 0; 
            right: 0; 
            margin-inline: auto; 
            width: fit-content;
        }

        h1 {
            text-align: center;
            margin-top: 150px;
            font-size: 50px;
        }


        #click {
            margin: auto;
            width: 570px;
            height: 35vh;
            border: 3px dashed white;
            border-radius: 20px;
            transition: .5s;
            position: relative;
            user-select: none;
        }

        #click:hover {
            border: 3px dashed white;
            border-radius: 50px;
            background: #202020;
        }

        #mask {
            height: 100%;
            width: 100%;
            clip-path: url(#roundedClip);
            position: relative;
            overflow: hidden;
        }

        #anim {
            background: radial-gradient(#151515, #151515, #525252);
            border-radius: 100%;
            border: 2px solid white;
            width: 200px;
            height: 200px;
            transform-origin: center;
            opacity: 0;
            position: absolute;
        }

        @keyframes anim {
            0% {transform: scale(0); opacity: 100%; border: 50px solid white; padding: 0px;}
            100% {transform: scale(1.5); opacity: 0%; border: 3px solid white; padding: 47px;}
        }

        #stats {
            text-align: center;
            user-select: none;
            margin: auto auto 50px auto;
            font-size: 40px;
            background: #201050;
            width: 550px;
            padding: 10px;
            border: 2px solid white;
            border-radius: 40px;
        }

        #debug {
            right: 5%;
            top: 3%;
            position: absolute;
            display: none;
        }

        nav {
            position: absolute;
            z-index: 999;
            float: left;
            top: 200px;
            left: -270px;
            padding-right: 8%;
            transition: .6s cubic-bezier(0.16, 1, 0.3, 1);
            height: 100%;
        }

        nav:hover {
            left: -50px;
        }

        nav ul li {
            list-style-type: none;
            text-transform: uppercase;
            text-align: center;
            border: 2px solid white;
            padding: 10% 35%;
            width: 50%;
            font-size: 25px;
            transition: .6s cubic-bezier(0.16, 1, 0.3, 1);
            cursor: pointer;
            user-select: none;
            background: linear-gradient(to right, #404040 50%, #303030 50%) repeat;
            background-position: -100% 0;
            background-size: 50%;
            filter: brightness(50%);
        }

        nav ul li:hover {
            filter: brightness(100%) !important;
            padding: 25% 39%;
            background-position: 8% 0;
        }

        nav ul li:active {
            transition: .1s cubic-bezier(0.16, 1, 0.3, 1);
            padding: 30%;
        }

        @keyframes moveout {
            0% {transform: translateY(0%);}
            50% {transform: translateY(-110vh);}
            100% {transform: translateY(-110vh);}
        }

        @keyframes movein {
            0% {transform: translateY(110vh);}
            100% {transform: translateY(0);}
        }

    </style>
</head>
<body>
    
    <nav>
        <ul>
            <li id="bcps">cps</li>
            <li id="bcalc">calc</li>
            <li id="bcs">coming soon</li>
            <li id="ep">fajne takie</li>
            <li id="rr">nothin ðŸ¤«</li>
        </ul>
    </nav>

    <div id="cps" class="sect">
        <h1 id="info">klikaj tam na dole i bedzie git</h1>

        <section id="stats">
            <span>CPS:</span>
            <span id="number">0</span>
            <span style="margin-left: 50px;">PB:</span>
            <span id="number2">0</span>
        </section>

        <div id="click">
            <div id="mask">
                <div id="anim"></div>
            </div>
        </div>

        <section id="debug">
            <span>delay between clicks:</span>
            <span id="number3">0</span> <br>
            <span>difference between delays (last 10s):</span>
            <span id="number4">0</span> <br>
        </section>

        <!--svg used as a mask cuz css clip-path is fuckin dumb-->
        <svg width="0" height="0">
            <defs>
            <clipPath id="roundedClip" clipPathUnits="objectBoundingBox">
                <rect x="0" y="0" width="1" height="1" rx="0.09" ry="0.18" />
            </clipPath>
            </defs>
        </svg>
    </div>

    <div id="calc" class="sect">
        <h1>bedzie kiedys lol</h1>
    </div>

    <div id="cs" class="sect">
        <h1>no i po chuj klikasz to jak pisze ze coming soon</h1>
    </div>

    <script>
        function setCookie(name, value, days = 3650) {
            let expires = "";
            if (days) {
                const date = new Date();
                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));  // days in milliseconds
                expires = "; expires=" + date.toUTCString();
            }
            document.cookie = name + "=" + encodeURIComponent(value) + expires + "; path=/";
        }

        function getCookie(cname) {
            let name = cname + "=";
            let decodedCookie = decodeURIComponent(document.cookie);
            let ca = decodedCookie.split(';');
            for(let i = 0; i <ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) == ' ') {
                c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
                }
            }
            return "";
        }

        const cpsS = document.getElementById("cps");
        const calcS = document.getElementById("calc");
        const csS = document.getElementById("cs");
        const cpsB = document.getElementById("bcps");
        const calcB = document.getElementById("bcalc");
        const csB = document.getElementById("bcs");
        const ep = document.getElementById("ep");
        const rr = document.getElementById("rr");
        const click = document.getElementById("click");
        const mask = document.getElementById("mask");
        const cpsNum = document.getElementById("number");
        const pbNum = document.getElementById("number2");
        const delayNum = document.getElementById("number3");
        const avgdelayNum = document.getElementById("number4");
        var cps = 0;
        var pb = parseInt(getCookie("pb")) || 0;
        pbNum.textContent = pb;
        var crazy = false;
        let startTime = new Date();
        let endTime = new Date();
        let clicksTen = 0;
        let delayTen = 0;
        let timeElapsed = 0;
        let _timeElapsed = 0;

        const sectionCookie = getCookie("section") || cpsS;
        document.getElementById('info').textContent = sectionCookie;
        
        switch (sectionCookie) {
            case "cpsS":
                currentS = cpsS;
                change(cpsS);
                break;
            case "calcS":
                currentS = calcS;
                change(calcS);
                break;
            case "csS":
                currentS = csS;
                change(csS);
                break;
            default:
                currentS = cpsS;
                break;
        }

        function moveElementToMouse(event) {
            cps += 1;
            cpsNum.textContent = cps;
            clicksTen += 1;
            setTimeout(() => {
            clicksTen -= 1;
            }, 10000);
            var endTime = new Date();
            timeElapsed = endTime - startTime;
            delayTen += Math.abs(timeElapsed-_timeElapsed);
            var _delayDifference = Math.abs(timeElapsed-_timeElapsed);
            _timeElapsed = timeElapsed;
            setTimeout(() => {
            delayTen -= _delayDifference;
            }, 10000);
            delayNum.textContent = timeElapsed;
            avgdelayNum.textContent = Math.round(delayTen/clicksTen);
            if(Math.round(delayTen/clicksTen)<3) {
                document.getElementById('info').textContent = "ale nie na autoclickerze debilu XD";
            } else { 
                document.getElementById('info').textContent = "klikaj tam na dole i bedzie git";
            }
            startTime = new Date();
            setTimeout(() => {
            cps = cps-1;
            cpsNum.textContent = cps
            }, 1000);

            if(pb<cps) {
                pb = cps;
                pbNum.textContent = pb;
                setCookie("pb", pb);
            }

            if(cps>9) {
                crazy = true;
            }

            
            // to ai mi pisalo w sensie samo to klonowanie bo animacja autorska >>

            // Clone the `anim` element
            const animClone = document.getElementById("anim").cloneNode(true);
            
            // Get the `click` element's bounding box to position the clone relative to it
            const clickRect = click.getBoundingClientRect();

            // Position and style the clone
            animClone.style.position = "absolute";
            animClone.style.left = `${event.clientX - clickRect.left - 150}px`; // Center horizontally
            animClone.style.top = `${event.clientY - clickRect.top - 150}px`; // Center vertically
            animClone.style.opacity = "100%";
            animClone.style.animation = "anim .6s ease-out";
            if(crazy==true) {
                var color = `hsl(${Math.random()*360}, 100%, 50%, 50%)`
                animClone.style.background = color;
            };

            // Append the clone to the `mask` div to apply clipping
            mask.appendChild(animClone);

            // Remove the clone once the animation ends
            animClone.addEventListener("animationend", () => {
                animClone.remove();
            }, { once: true });
        }
        // << do tego miejsca ai modified code

        let animating = false;
        let pendingChange = "";

        function change(S) {
            if(S==currentS) {
                return;
            }

            if(animating==true) {
                pendingChange = S;
                return;
            }

            animating = true;
            setTimeout(() => {
                animating = false
                if (pendingChange != "") {
                    change(pendingChange)
                }
                pendingChange = "";
            }, 610)
            currentS.style.animation = 'moveout 2s cubic-bezier(0.16, 1, 0.3, 1)';
            _currentS=currentS;
            setTimeout(() => _currentS.style.display = 'none', 600)
            currentS = S;
            setCookie("section", currentS);
            S.style.display = 'block';
            S.style.animation = 'movein .6s cubic-bezier(0.16, 1, 0.3, 1)';

            switch(currentS) {
                case cpsS:
                    cpsB.style.filter = 'brightness(100%)'
                    calcB.style.filter = 'brightness(50%)'
                    csB.style.filter = 'brightness(50%)'
                    cpsB.style.textShadow = '0 0 10px #fff, 0 0 20px #fff, 0 0 30px #e2e2e2, 0 0 40px #dbdbdb'
                    calcB.style.textShadow = ''
                    csB.style.textShadow = ''
                    break;
                case calcS:
                    calcB.style.filter = 'brightness(100%)'
                    cpsB.style.filter = 'brightness(50%)'
                    csB.style.filter = 'brightness(50%)'
                    calcB.style.textShadow = '0 0 10px #fff, 0 0 20px #fff, 0 0 30px #e2e2e2, 0 0 40px #dbdbdb'
                    cpsB.style.textShadow = ''
                    csB.style.textShadow = ''
                    break;
                case csS:
                    csB.style.filter = 'brightness(100%)'
                    cpsB.style.filter = 'brightness(50%)'
                    calcB.style.filter = 'brightness(50%)'
                    csB.style.textShadow = '0 0 10px #fff, 0 0 20px #fff, 0 0 30px #e2e2e2, 0 0 40px #dbdbdb'
                    cpsB.style.textShadow = ''
                    calcB.style.textShadow = ''
                    break;  
            }
        }



        
        click.addEventListener('click', moveElementToMouse);

        document.addEventListener('keyup', function (event) {
            if (event.ctrlKey && event.altKey && event.key === 'd') {
                
                var element = document.getElementById('debug');
                if (element.style.display = 'none') {
                    element.style.display = 'block';
                } else {
                    element.style.display = 'none';
                }
            }
        });

        cpsB.addEventListener('click', () => change(cpsS));
        calcB.addEventListener('click', () => change(calcS));
        csB.addEventListener('click', () => change(csS));
        ep.addEventListener('click', () => window.open('https://xtimgg.github.io/meow/', '_blank').focus);
        rr.addEventListener('click', () => window.open('https://bitly.com/98K8eH', '_blank').focus);
        

    </script>
</body>
</html>
